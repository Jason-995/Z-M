### é”šç‚¹åŒº
PROXY: &PROXY {type: select, proxies: [Choose, é¦™æ¸¯, æ–°åŠ å¡, æ—¥æœ¬, å°æ¹¾, ç¾å›½, å…¨éƒ¨, ç›´è¿]}
DIRECT: &DIRECT {type: select, proxies: [ç›´è¿, Choose, é¦™æ¸¯, æ–°åŠ å¡, æ—¥æœ¬, å°æ¹¾, ç¾å›½, å…¨éƒ¨]}
All: &Include_all {type: select, proxies: [Choose, é¦™æ¸¯, æ–°åŠ å¡, æ—¥æœ¬, å°æ¹¾, ç¾å›½, å…¨éƒ¨, ç›´è¿], include-all: true, exclude-filter: "(?i)(ç›´è¿)"}
PP: &PP {type: http, interval: 86400, health-check: {enable: true, url: 'https://www.gstatic.com/generate_204', interval: 300}}
FilterHK: &FilterHK '^(?=.*(?i)(æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong|HKG))(?!.*(æ’é™¤1|æ’é™¤2|5x)).*$'
FilterSG: &FilterSG '^(?=.*(?i)(å¡|ğŸ‡¸ğŸ‡¬|SG|Sing|SIN|XSP))(?!.*(æ’é™¤1|æ’é™¤2|5x)).*$'
FilterJP: &FilterJP '^(?=.*(?i)(æ—¥|ğŸ‡¯ğŸ‡µ|JP|Japan|NRT|HND|KIX|CTS|FUK))(?!.*(æ’é™¤1|æ’é™¤2|5x)).*$'
FilterUS: &FilterUS '^(?=.*(?i)(ç¾|ğŸ‡ºğŸ‡¸|US|USA|JFK|LAX|ORD|ATL|DFW|SFO|MIA|SEA|IAD))(?!.*(æ’é™¤1|æ’é™¤2|5x)).*$'
FilterTW: &FilterTW '^(?=.*(?i)(å°|ğŸ‡¼ğŸ‡¸|ğŸ‡¹ğŸ‡¼|TW|tai|TPE|TSA|KHH))(?!.*(æ’é™¤1|æ’é™¤2|5x)).*$'
UrlTest: &UrlTest {type: url-test, interval: 60, tolerance: 20, lazy: true, url: 'https://www.gstatic.com/generate_204', disable-udp: false, timeout: 2000, max-failed-times: 3, hidden: true, include-all: true}
LoadBalanceCH: &LoadBalanceCH {type: load-balance, interval: 60, lazy: true, url: 'https://www.gstatic.com/generate_204', disable-udp: false, strategy: consistent-hashing, timeout: 2000, max-failed-times: 3, hidden: true, include-all: true}

### è®¢é˜…é“¾æ¥
proxy-providers:
  P1: {<<: *PP, url: 'æœºåœºè®¢é˜…åœ°å€'}

### å…¨å±€é…ç½®
mode: rule
port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
tproxy-port: 7895
ipv6: true
allow-lan: true
unified-delay: true
tcp-concurrent: true
log-level: warning
bind-address: "*"
find-process-mode: 'off'
global-client-fingerprint: chrome
keep-alive-interval: 15
keep-alive-idle: 600
authentication:
  - mihomo:yyds666
skip-auth-prefixes:
  - 192.168.1.0/24
  - 192.168.12.0/24
  - fe80::/128
  - 127.0.0.1/8

external-ui-url: https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip
external-ui-name: zashboard
external-ui: ui
external-controller: 0.0.0.0:9090
secret: ""

profile:
  store-selected: true
  store-fake-ip: true

sniffer:
  enable: true
  override-destination: false
  force-dns-mapping: true
  parse-pure-ip: true

tun:
  enable: true
  stack: mixed
  dns-hijack:
    - "any:53"
    - "tcp://any:53"
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true

dns:
  enable: true
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - rule-set:private_domain
    - rule-set:cn_domain
    - "*"
    - "+.lan"
    - "+.local"
    - "*.apple.com"
    - "*.wechat.com"
    - "*.qpic.cn"
    - "*.qq.com"
    - "*.wechatapp.com"
    - +.docker.io
    - +.push.apple.com
    - "+.market.xiaomi.com"
  default-nameserver:
    - tls://223.5.5.5
    - tls://223.6.6.6
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query

proxies: 
  - name: "ç›´è¿"
    type: direct
    udp: true

proxy-groups:
### ç­–ç•¥ç»„
  - name: Choose
    type: select
    proxies: [é¦™æ¸¯, æ–°åŠ å¡, æ—¥æœ¬, å°æ¹¾, ç¾å›½, å…¨éƒ¨]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Static_1.png

  - name: AIGC
    <<: *PROXY
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/AI.png

  - name: Emby
    <<: *PROXY
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png

  - name: Streaming
    <<: *PROXY
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Streaming.png

  - name: Telegram
    <<: *PROXY
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
  
  - name: Games 
    <<: *PROXY
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Game.png

  - name: YouTube 
    <<: *PROXY
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png

  - name: Google 
    <<: *PROXY
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png

  - name: Microsoft 
    <<: *PROXY
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png

  - name: Apple 
    <<: *DIRECT
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple_1.png

### å…¶ä»–ç­–ç•¥ç»„
  - name: å…¨éƒ¨
    type: select
    include-all: true
    tolerance: 20
    interval: 300
    exclude-filter: "(?i)(ç›´è¿)"
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Clubhouse.png
  - name: Final
    type: select
    proxies: [Choose, ç›´è¿]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png

### åœ°åŒºç­–ç•¥ç»„
  - name: é¦™æ¸¯
    type: select
    proxies: [é¦™æ¸¯è‡ªåŠ¨, é¦™æ¸¯å‡è¡¡]
    include-all: true
    filter: *FilterHK
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png
  - name: æ–°åŠ å¡
    type: select
    proxies: [æ–°åŠ å¡è‡ªåŠ¨, æ–°åŠ å¡å‡è¡¡]
    include-all: true
    filter: *FilterSG
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png
  - name: æ—¥æœ¬
    type: select
    proxies: [æ—¥æœ¬è‡ªåŠ¨, æ—¥æœ¬å‡è¡¡]
    include-all: true
    filter: *FilterJP
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png
  - name: ç¾å›½
    type: select
    proxies: [ç¾å›½è‡ªåŠ¨, ç¾å›½å‡è¡¡]
    include-all: true
    filter: *FilterUS
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png
  - name: å°æ¹¾
    type: select
    proxies: [å°æ¹¾è‡ªåŠ¨, å°æ¹¾å‡è¡¡]
    include-all: true
    filter: *FilterTW
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png

### åœ°åŒºè‡ªåŠ¨ç­–ç•¥ç»„
  - name: é¦™æ¸¯è‡ªåŠ¨
    <<: *UrlTest
    filter: *FilterHK
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
  - name: æ–°åŠ å¡è‡ªåŠ¨
    <<: *UrlTest
    filter: *FilterSG
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
  - name: æ—¥æœ¬è‡ªåŠ¨
    <<: *UrlTest
    filter: *FilterJP
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
  - name: ç¾å›½è‡ªåŠ¨
    <<: *UrlTest
    filter: *FilterUS
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
  - name: å°æ¹¾è‡ªåŠ¨
    <<: *UrlTest
    filter: *FilterTW
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png

### åœ°åŒºå‡è¡¡ç­–ç•¥ç»„
  - name: é¦™æ¸¯å‡è¡¡
    <<: *LoadBalanceCH
    filter: *FilterHK
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Round_Robin_1.png
  - name: æ–°åŠ å¡å‡è¡¡
    <<: *LoadBalanceCH
    filter: *FilterSG
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Round_Robin_1.png
  - name: æ—¥æœ¬å‡è¡¡
    <<: *LoadBalanceCH
    filter: *FilterJP
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Round_Robin_1.png
  - name: ç¾å›½å‡è¡¡
    <<: *LoadBalanceCH
    filter: *FilterUS
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Round_Robin_1.png
  - name: å°æ¹¾å‡è¡¡
    <<: *LoadBalanceCH
    filter: *FilterTW
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Round_Robin_1.png


rules:
  - DOMAIN-SUFFIX,micu.hk,DIRECT
  - RULE-SET,private_ip,ç›´è¿,no-resolve
  - RULE-SET,Ai,AIGC
  - RULE-SET,emby_domain,Emby
  - RULE-SET,steam_cn_domain,ç›´è¿
  - RULE-SET,steamcdn_domain,ç›´è¿
  - RULE-SET,apple_cn_domain,ç›´è¿
  - RULE-SET,apple_fw_domain,Apple
  - RULE-SET,apple_domain,Apple
  - RULE-SET,onedrive_domain,Microsoft
  - RULE-SET,microsoft_domain,Microsoft
  - RULE-SET,microsoft_cn,ç›´è¿
  - RULE-SET,ins_domain,Choose
  - RULE-SET,github_domain,Choose
  - RULE-SET,youtube_domain,YouTube
  - RULE-SET,google_domain,Google
  - RULE-SET,telegram_domain,Telegram
  - RULE-SET,netflix_domain,Streaming
  - RULE-SET,bilibili_domain,ç›´è¿
  - RULE-SET,game_domain,Games
  - RULE-SET,game_cn_domain,ç›´è¿
  - RULE-SET,cn_domain,ç›´è¿
  - RULE-SET,geolocation-!cn,Choose
# IP
  - RULE-SET,emby_ip,Emby,no-resolve
  - RULE-SET,steamcdn_ip,ç›´è¿,no-resolve
  - RULE-SET,google_ip,Google,no-resolve
  - RULE-SET,netflix_ip,Streaming,no-resolve
  - RULE-SET,telegram_ip,Telegram,no-resolve
  - RULE-SET,cn_ip,ç›´è¿,no-resolve
  - MATCH,Final

rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  ip_text: &ip_text {type: http, interval: 86400, behavior: ipcidr, format: text}
  ip_yaml: &ip_yaml {type: http, interval: 86400, behavior: ipcidr, format: yaml}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  domain_text: &domain_text {type: http, interval: 86400, behavior: domain, format: text}
  domain_yaml: &domain_yaml {type: http, interval: 86400, behavior: domain, format: yaml}
  class: &class {type: http, interval: 86400, behavior: classical, format: text}
  class_yaml: &class_yaml {type: http, interval: 86400, behavior: classical, format: yaml}

rule-providers:
  Ai:               {<<: *domain, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/ai.mrs}
  private_domain:   {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs}
  steam_cn_domain:  {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/steam%40cn.mrs}
  steamcdn_domain:  {<<: *domain, url: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/rules/Domain/Steam-domain.mrs}
  steam_domain:     {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/steam.mrs}
  emby_domain:      {<<: *domain, url: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/rules/Domain/emby.mrs}
  apple_fw_domain:  {<<: *domain, url: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/rules/Domain/applefirmware.mrs}
  apple_domain:     {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs}
  apple_cn_domain:  {<<: *domain, url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/apple@cn.mrs}
  ins_domain:       {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/instagram.mrs}    
  game_cn_domain:   {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/category-games%40cn.mrs}
  game_domain:      {<<: *domain, url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-games.mrs}
  onedrive_domain:  {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs}
  microsoft_domain: {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs}
  microsoft_cn:     {<<: *domain, url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/microsoft@cn.mrs}
  cn_domain:        {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs}
  github_domain:    {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs}
  youtube_domain:   {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs}
  google_domain:    {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs}
  telegram_domain:  {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs}
  netflix_domain:   {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs}
  bilibili_domain:  {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bilibili.mrs}
  geolocation-!cn:  {<<: *domain, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs}
# IP
  steamcdn_ip:     {<<: *ip, url: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/rules/IP/steamCDN-ip.mrs}
  emby_ip:         {<<: *ip, url: https://raw.githubusercontent.com/Lanlan13-14/Rules/refs/heads/main/rules/IP/emby-ip.mrs}
  private_ip:      {<<: *ip, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs}
  cn_ip:           {<<: *ip, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs}
  google_ip:       {<<: *ip, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs}
  netflix_ip:      {<<: *ip, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs}
  telegram_ip:     {<<: *ip, url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs}
